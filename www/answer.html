<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>かごしま雑学クイズアプリ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: content: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
    <script src="components/loader.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/animation.js"></script>
    <script>
        if (window.performance.navigation.type == 1) {
        window.location.href = 'index.html'
        }
    </script>
</head>

<body>
  <h2>解答</h2>
  <div id="text_a"></div>
  <ons-navigator swipeable id="myNavigator" page="quiz.html"></ons-navigator>
  <template id="quiz.html">
    <ons-page id="quiz">
      <ons-button id="push-button">次の問題へ</ons-button>
    </ons-page>
  </template>

  <script>
    const btn = document.getElementById('btn');

      // 解答表示
      function answer(num) {
          var s;
          s = (count + 1) + "問目：";
          // 答え合わせ
          if (num == qa[count][q_sel + 1]) {
            // 正解
            answers[count] = "〇";
          } else {
            // はずれ
            answers[count] = "✕";
          }
          s += answers[count] + qa[count][num];
          document.getElementById("text_a").innerHTML = s;

          // 次の問題を表示
          count++;
          if (count < qa.length) {
            quiz();
          } else {
            // 終了
            s = "<table border='2'><caption>成績発表</caption>";
            // 1行目
            s += "<tr><th>問題</th>";
                for (n = 0; n < qa.length; n++) {
                    s += "<th>" + (n + 1) + "</th>";
                }
            // 2行目
            s += "<tr><th>成績</th>";
                for (n = 0; n < qa.length; n++) {
                    s += "<td>" + answers[n] + "</td>";
                }
            s += "</tr>";
            s += "</table>";
            document.getElementById("text_q").innerHTML = s;
            // 次の選択肢
            s = " 【<a href='javascript:history.back()'>前のページに戻る</a>】";
            s += " 【<a href='javascript:setReady()'>同じ問題を最初から</a>】";
            s += " 【<a href='index.html'>トップへ戻る</a>】";
            document.getElementById("text_s").innerHTML = s;
          }
        }

    document.addEventListener('init', function(event) {
        var page = event.target;

        querySelector('#push-button').onclick = function() {
        document.querySelector('#myNavigator').pushPage('quiz.html', {data: {title: 'かごしま雑学クイズアプリ'}});
        };
    });
  </script>
</body>